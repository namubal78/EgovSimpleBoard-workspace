DROP SEQUENCE SEQ_MEMBER_NO;
DROP SEQUENCE SEQ_BOARD_NO;
DROP SEQUENCE SEQ_SUBBOARD_NO;
DROP SEQUENCE SEQ_REPLY_NO;

DROP TABLE "MEMBER" CASCADE CONSTRAINTS;
DROP TABLE "BOARD" CASCADE CONSTRAINTS;
DROP TABLE "SUBBOARD" CASCADE CONSTRAINTS;
DROP TABLE "REPLY" CASCADE CONSTRAINTS;
DROP TABLE "MASTERBOARD" CASCADE CONSTRAINTS;

-- 게시판관리용 테이블 --
CREATE TABLE "MASTERBOARD" (
	"BOARD_NO" NUMBER 		NOT NULL,
	"BOARD_NAME" VARCHAR2(50)	NOT NULL,
	"BOARD_OPEN" CHAR(1)		DEFAULT 'Y' NOT NULL,
	"BOARD_PATH" VARCHAR2(100)	NOT NULL
);

COMMENT ON COLUMN "MASTERBOARD"."BOARD_NO" IS '자유게시판: 1, 공지사항: 2';

COMMENT ON COLUMN "MASTERBOARD"."BOARD_NAME" IS '자유게시판, 공지사항 등';

COMMENT ON COLUMN "MASTERBOARD"."BOARD_OPEN" IS '노출: Y, 비노출: N';

COMMENT ON COLUMN "MASTERBOARD"."BOARD_PATH" IS '자유게시판: list.bo, 공지사항: list.sub';

--회원 테이블--
CREATE TABLE "MEMBER" (
	"MEMBER_NO"	NUMBER		NOT NULL,
	"MEMBER_ID"	VARCHAR2(16)		NOT NULL,
	"MEMBER_PWD"	VARCHAR2(255)		NOT NULL,
	"MEMBER_NAME"	VARCHAR2(15)		NOT NULL,
	"EMAIL"	VARCHAR2(40)		NULL,
	"PHONE"	VARCHAR2(13)		NOT NULL,
	"MEMBER_STATUS"	CHAR(1)	DEFAULT 'Y'	NOT NULL,
	"MEMBER_TYPE"	NUMBER	DEFAULT 3	NOT NULL
);

COMMENT ON COLUMN "MEMBER"."MEMBER_NO" IS '시퀀스';

COMMENT ON COLUMN "MEMBER"."MEMBER_ID" IS '영문, 숫자 조합 6 ~ 16자';

COMMENT ON COLUMN "MEMBER"."MEMBER_PWD" IS '영문, 숫자, 특수문자 조합 6 ~ 16자';

COMMENT ON COLUMN "MEMBER"."MEMBER_NAME" IS '한글 5자, 영문 12자 이내';

COMMENT ON COLUMN "MEMBER"."EMAIL" IS '영문, @포함';

COMMENT ON COLUMN "MEMBER"."PHONE" IS '숫자, -포함';

COMMENT ON COLUMN "MEMBER"."MEMBER_STATUS" IS '탈퇴 시 N';

COMMENT ON COLUMN "MEMBER"."MEMBER_TYPE" IS '전체관리자: 1, 서브관리자: 2, 일반회원: 3';

--자유게시판 테이블--
CREATE TABLE "BOARD" (
	"BOARD_NO"	NUMBER		NOT NULL,
	"BOARD_TITLE"	VARCHAR2(150)		NOT NULL,
	"BOARD_CONTENT"	VARCHAR2(3000)		NOT NULL,
	"BOARD_WRITER"	VARCHAR2(16)		NOT NULL,
	"BOARD_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"BOARD_COUNT"	NUMBER	DEFAULT 1	NOT NULL,
	"ORIGIN_NAME"	VARCHAR2(255)		NULL,
	"CHANGE_NAME"	VARCHAR2(255)		NULL,
	"BOARD_STATUS"	CHAR(1)	DEFAULT 'Y'	NOT NULL,
	"MEMBER_NO"	NUMBER		NOT NULL
);

COMMENT ON COLUMN "BOARD"."BOARD_NO" IS '시퀀스';

COMMENT ON COLUMN "BOARD"."BOARD_TITLE" IS '한글 50자, 영문 150자 이내';

COMMENT ON COLUMN "BOARD"."BOARD_CONTENT" IS '한글 1000자, 영문 3000자 이내';

COMMENT ON COLUMN "BOARD"."BOARD_WRITER" IS '영문, 숫자 조합 6 ~ 16자';

COMMENT ON COLUMN "BOARD"."BOARD_DATE" IS 'YYYY-MM-DD HH24:MI';

COMMENT ON COLUMN "BOARD"."BOARD_COUNT" IS '게시글 작성 시 상세 조회 포워딩이라';

COMMENT ON COLUMN "BOARD"."BOARD_STATUS" IS '삭제 시 N';

COMMENT ON COLUMN "BOARD"."MEMBER_NO" IS '시퀀스';


--공지사항 테이블--
CREATE TABLE "SUBBOARD" (
	"SUBBOARD_NO"	NUMBER		NOT NULL,
	"SUBBOARD_TITLE"	VARCHAR2(150)		NOT NULL,
	"SUBBOARD_CONTENT"	VARCHAR2(3000)		NOT NULL,
	"SUBBOARD_WRITER"	VARCHAR2(16)		NOT NULL,
	"SUBBOARD_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"SUBBOARD_COUNT"	NUMBER	DEFAULT 1	NOT NULL,
	"SUBORIGIN_NAME"	VARCHAR2(255)		NULL,
	"SUBCHANGE_NAME"	VARCHAR2(255)		NULL,
	"SUBBOARD_STATUS"	CHAR(1)	DEFAULT 'Y'	NOT NULL,
	"MEMBER_NO"	NUMBER		NOT NULL
);

COMMENT ON COLUMN "SUBBOARD"."SUBBOARD_NO" IS '시퀀스';

COMMENT ON COLUMN "SUBBOARD"."SUBBOARD_TITLE" IS '한글 50자, 영문 150자 이내';

COMMENT ON COLUMN "SUBBOARD"."SUBBOARD_CONTENT" IS '한글 1000자, 영문 3000자 이내';

COMMENT ON COLUMN "SUBBOARD"."SUBBOARD_WRITER" IS '영문, 숫자 조합 6 ~ 16자';

COMMENT ON COLUMN "SUBBOARD"."SUBBOARD_DATE" IS 'YYYY-MM-DD HH24:MI';

COMMENT ON COLUMN "SUBBOARD"."SUBBOARD_COUNT" IS '게시글 작성 시 상세 조회 포워딩이라';

COMMENT ON COLUMN "SUBBOARD"."SUBBOARD_STATUS" IS '삭제 시 N';

COMMENT ON COLUMN "SUBBOARD"."MEMBER_NO" IS '시퀀스';


--댓글 테이블--
CREATE TABLE "REPLY" (
	"REPLY_NO"	NUMBER		NOT NULL,
	"REPLY_CONTENT"	VARCHAR2(1000)		NOT NULL,
	"REPLY_WRITER"	VARCHAR2(16)		NOT NULL,
	"REPLY_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"REPLY_STATUS"	CHAR(1)	DEFAULT 'Y'	NOT NULL,
	"BOARD_NO"	NUMBER		NOT NULL
);

COMMENT ON COLUMN "REPLY"."REPLY_NO" IS '시퀀스';

COMMENT ON COLUMN "REPLY"."REPLY_CONTENT" IS '한글 333자, 영문 1000자 이내';

COMMENT ON COLUMN "REPLY"."REPLY_DATE" IS 'YYYY-MM-DD HH24:MI';

COMMENT ON COLUMN "REPLY"."REPLY_STATUS" IS '삭제 시 N';

COMMENT ON COLUMN "REPLY"."BOARD_NO" IS '시퀀스';

ALTER TABLE "MEMBER" ADD CONSTRAINT "PK_MEMBER" PRIMARY KEY (
	"MEMBER_NO"
);

ALTER TABLE "BOARD" ADD CONSTRAINT "PK_BOARD" PRIMARY KEY (
	"BOARD_NO"
);

ALTER TABLE "REPLY" ADD CONSTRAINT "PK_REPLY" PRIMARY KEY (
	"REPLY_NO"
);

ALTER TABLE "BOARD" ADD CONSTRAINT "FK_MEMBER_TO_BOARD_1" FOREIGN KEY (
	"MEMBER_NO"
)
REFERENCES "MEMBER" (
	"MEMBER_NO"
);

ALTER TABLE "REPLY" ADD CONSTRAINT "FK_BOARD_TO_REPLY_1" FOREIGN KEY (
	"BOARD_NO"
)
REFERENCES "BOARD" (
	"BOARD_NO"
);

CREATE SEQUENCE SEQ_MEMBER_NO NOCACHE;
CREATE SEQUENCE SEQ_BOARD_NO NOCACHE;
CREATE SEQUENCE SEQ_SUBBOARD_NO NOCACHE;
CREATE SEQUENCE SEQ_REPLY_NO NOCACHE;

--게시판관리용 더미 데이터 INSERT--

INSERT INTO MASTERBOARD (BOARD_NO, BOARD_NAME, BOARD_OPEN, BOARD_PATH) VALUES (2, '자유게시판', 'Y', 'list.bo');

INSERT INTO MASTERBOARD (BOARD_NO, BOARD_NAME, BOARD_OPEN, BOARD_PATH) VALUES (1, '공지사항', 'Y', 'list.sub');

--회원 더미 데이터 INSERT--

INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PWD, MEMBER_NAME, EMAIL, PHONE, MEMBER_STATUS, MEMBER_TYPE) VALUES (SEQ_MEMBER_NO.NEXTVAL, 'admin', 'SqbZzsCuG8MZnLezmVKrBg==', '관리자', 'admin@gasystem.com', '010-1234-1234', 'Y', 1);

INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PWD, MEMBER_NAME, EMAIL, PHONE, MEMBER_STATUS, MEMBER_TYPE) VALUES (SEQ_MEMBER_NO.NEXTVAL, 'subadmin', 'SqbZzsCuG8MZnLezmVKrBg==', '서브관리자', 'subadmin@gasystem.com', '010-1234-1234', 'Y', 2);

INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PWD, MEMBER_NAME, EMAIL, PHONE, MEMBER_STATUS, MEMBER_TYPE) VALUES (SEQ_MEMBER_NO.NEXTVAL, 'user2', 'SqbZzsCuG8MZnLezmVKrBg==', '회원2', 'user2@gasystem.com', '010-1234-1234', 'Y', 3);

INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PWD, MEMBER_NAME, EMAIL, PHONE, MEMBER_STATUS, MEMBER_TYPE) VALUES (SEQ_MEMBER_NO.NEXTVAL, 'user3', 'SqbZzsCuG8MZnLezmVKrBg==', '회원3', 'user2@gasystem.com', '010-1234-1234', 'Y', 3);

INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PWD, MEMBER_NAME, EMAIL, PHONE, MEMBER_STATUS, MEMBER_TYPE) VALUES (SEQ_MEMBER_NO.NEXTVAL, 'user4', 'SqbZzsCuG8MZnLezmVKrBg==', '회원4', 'user2@gasystem.com', '010-1234-1234', 'Y', 3);

INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PWD, MEMBER_NAME, EMAIL, PHONE, MEMBER_STATUS, MEMBER_TYPE) VALUES (SEQ_MEMBER_NO.NEXTVAL, 'user5', 'SqbZzsCuG8MZnLezmVKrBg==', '회원5', 'user2@gasystem.com', '010-1234-1234', 'Y', 3);

INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PWD, MEMBER_NAME, EMAIL, PHONE, MEMBER_STATUS, MEMBER_TYPE) VALUES (SEQ_MEMBER_NO.NEXTVAL, 'user6', 'SqbZzsCuG8MZnLezmVKrBg==', '회원6', 'user2@gasystem.com', '010-1234-1234', 'Y', 3);


--자유게시판 더미 데이터 INSERT--

INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_WRITER, BOARD_DATE, BOARD_COUNT, ORIGIN_NAME, CHANGE_NAME, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '자유게시글1입니다.', '게시글 내용', '회원2', SYSDATE, 1, NULL, NULL, 'Y', 3);

INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_WRITER, BOARD_DATE, BOARD_COUNT, ORIGIN_NAME, CHANGE_NAME, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '자유게시글2입니다.', '게시글 내용', '회원2', SYSDATE, 1, NULL, NULL, 'Y', 3);

INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_WRITER, BOARD_DATE, BOARD_COUNT, ORIGIN_NAME, CHANGE_NAME, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '자유게시글3입니다.', '게시글 내용', '회원2', SYSDATE, 1, NULL, NULL, 'Y', 3);

INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_WRITER, BOARD_DATE, BOARD_COUNT, ORIGIN_NAME, CHANGE_NAME, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '자유게시글4입니다.', '게시글 내용', '회원2', SYSDATE, 1, NULL, NULL, 'Y', 3);

INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_WRITER, BOARD_DATE, BOARD_COUNT, ORIGIN_NAME, CHANGE_NAME, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '자유게시글5입니다.', '게시글 내용', '회원2', SYSDATE, 1, NULL, NULL, 'Y', 3);

INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_WRITER, BOARD_DATE, BOARD_COUNT, ORIGIN_NAME, CHANGE_NAME, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '자유게시글6입니다.', '게시글 내용', '회원2', SYSDATE, 1, NULL, NULL, 'Y', 3);

INSERT INTO REPLY (REPLY_NO, REPLY_CONTENT, REPLY_WRITER, REPLY_DATE, REPLY_STATUS, BOARD_NO) VALUES (SEQ_REPLY_NO.NEXTVAL, '댓글 내용입니다.', '관리자', SYSDATE, 'Y', 6);

--공지사항 더미 데이터 INSERT--

INSERT INTO SUBBOARD (SUBBOARD_NO, SUBBOARD_TITLE, SUBBOARD_CONTENT, SUBBOARD_WRITER, SUBBOARD_DATE, SUBBOARD_COUNT, SUBORIGIN_NAME, SUBCHANGE_NAME, SUBBOARD_STATUS, MEMBER_NO) VALUES (SEQ_SUBBOARD_NO.NEXTVAL, '공지1입니다', '공지 내용', '관리자', SYSDATE, 1, NULL, NULL, 'Y', 1);

INSERT INTO SUBBOARD (SUBBOARD_NO, SUBBOARD_TITLE, SUBBOARD_CONTENT, SUBBOARD_WRITER, SUBBOARD_DATE, SUBBOARD_COUNT, SUBORIGIN_NAME, SUBCHANGE_NAME, SUBBOARD_STATUS, MEMBER_NO) VALUES (SEQ_SUBBOARD_NO.NEXTVAL, '공지2입니다', '공지 내용', '관리자', SYSDATE, 1, NULL, NULL, 'Y', 1);

INSERT INTO SUBBOARD (SUBBOARD_NO, SUBBOARD_TITLE, SUBBOARD_CONTENT, SUBBOARD_WRITER, SUBBOARD_DATE, SUBBOARD_COUNT, SUBORIGIN_NAME, SUBCHANGE_NAME, SUBBOARD_STATUS, MEMBER_NO) VALUES (SEQ_SUBBOARD_NO.NEXTVAL, '공지3입니다', '공지 내용', '서브관리자', SYSDATE, 1, NULL, NULL, 'Y', 2);

INSERT INTO SUBBOARD (SUBBOARD_NO, SUBBOARD_TITLE, SUBBOARD_CONTENT, SUBBOARD_WRITER, SUBBOARD_DATE, SUBBOARD_COUNT, SUBORIGIN_NAME, SUBCHANGE_NAME, SUBBOARD_STATUS, MEMBER_NO) VALUES (SEQ_SUBBOARD_NO.NEXTVAL, '공지4입니다', '공지 내용', '서브관리자', SYSDATE, 1, NULL, NULL, 'Y', 2);

INSERT INTO SUBBOARD (SUBBOARD_NO, SUBBOARD_TITLE, SUBBOARD_CONTENT, SUBBOARD_WRITER, SUBBOARD_DATE, SUBBOARD_COUNT, SUBORIGIN_NAME, SUBCHANGE_NAME, SUBBOARD_STATUS, MEMBER_NO) VALUES (SEQ_SUBBOARD_NO.NEXTVAL, '공지5입니다', '공지 내용', '관리자', SYSDATE, 1, NULL, NULL, 'Y', 1);

INSERT INTO SUBBOARD (SUBBOARD_NO, SUBBOARD_TITLE, SUBBOARD_CONTENT, SUBBOARD_WRITER, SUBBOARD_DATE, SUBBOARD_COUNT, SUBORIGIN_NAME, SUBCHANGE_NAME, SUBBOARD_STATUS, MEMBER_NO) VALUES (SEQ_SUBBOARD_NO.NEXTVAL, '공지6입니다', '공지 내용', '서브관리자', SYSDATE, 1, NULL, NULL, 'Y', 2);

COMMIT;