DROP TABLE MEMBER CASCADE CONSTRAINTS;
DROP TABLE BOARD CASCADE CONSTRAINTS;

DROP SEQUENCE SEQ_MEMBER_NO;
DROP SEQUENCE SEQ_BOARD_NO;

CREATE TABLE MEMBER (
    MEMBER_NO NUMBER PRIMARY KEY,
    MEMBER_ID VARCHAR2(20) NOT NULL,
    MEMBER_PWD VARCHAR2(30) NOT NULL,
    MEMBER_NAME VARCHAR2(10) NOT NULL,
    EMAIL VARCHAR2(40),
    PHONE VARCHAR2(13) NOT NULL,
    MEMBER_STATUS CHAR(1) DEFAULT 'Y' NOT NULL);
    
CREATE SEQUENCE SEQ_MEMBER_NO NOCACHE;

CREATE TABLE BOARD (
    BOARD_NO NUMBER PRIMARY KEY,
    BOARD_TITLE VARCHAR2(100) NOT NULL,
    BOARD_CONTENT VARCHAR2(3000),
    BOARD_DATE DATE DEFAULT SYSDATE,
    BOARD_COUNT NUMBER DEFAULT 1,
    BOARD_REPLY VARCHAR2(3000),
    BOARD_FILE VARCHAR2(255),
    BOARD_STATUS CHAR(1) DEFAULT 'Y' NOT NULL,
    MEMBER_NO NUMBER NOT NULL);
    
CREATE SEQUENCE SEQ_BOARD_NO NOCACHE;

ALTER TABLE BOARD ADD FOREIGN KEY(MEMBER_NO) REFERENCES MEMBER(MEMBER_NO);

----------------------------------------------------

INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PWD, MEMBER_NAME, EMAIL, PHONE, MEMBER_STATUS) VALUES (SEQ_MEMBER_NO.NEXTVAL, 'admin', '1234', '관리자', 'admin@gasystem.com', '010-1234-1234', 'Y');

INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_DATE, BOARD_COUNT, BOARD_REPLY, BOARD_FILE, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '공지', '공지 내용', SYSDATE, 1, NULL, NULL, 'Y', 1);
INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_DATE, BOARD_COUNT, BOARD_REPLY, BOARD_FILE, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '공지', '공지 내용', SYSDATE, 1, NULL, NULL, 'Y', 1);
INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_DATE, BOARD_COUNT, BOARD_REPLY, BOARD_FILE, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '공지', '공지 내용', SYSDATE, 1, NULL, NULL, 'Y', 1);
INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_DATE, BOARD_COUNT, BOARD_REPLY, BOARD_FILE, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '공지', '공지 내용', SYSDATE, 1, NULL, NULL, 'Y', 1);
INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_DATE, BOARD_COUNT, BOARD_REPLY, BOARD_FILE, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '공지', '공지 내용', SYSDATE, 1, NULL, NULL, 'Y', 1);
INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_DATE, BOARD_COUNT, BOARD_REPLY, BOARD_FILE, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '공지', '공지 내용', SYSDATE, 1, NULL, NULL, 'Y', 1);

COMMIT;