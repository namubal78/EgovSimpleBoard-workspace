DROP SEQUENCE SEQ_MEMBER_NO;
DROP SEQUENCE SEQ_BOARD_NO;
DROP SEQUENCE SEQ_REPLY_NO;

DROP TABLE "MEMBER" CASCADE CONSTRAINTS;
DROP TABLE "BOARD" CASCADE CONSTRAINTS;
DROP TABLE "REPLY" CASCADE CONSTRAINTS;

--회원 테이블--
CREATE TABLE "MEMBER" (
	"MEMBER_NO"	NUMBER		NOT NULL,
	"MEMBER_ID"	VARCHAR2(16)		NOT NULL,
	"MEMBER_PWD"	VARCHAR2(30)		NOT NULL,
	"MEMBER_NAME"	VARCHAR2(12)		NOT NULL,
	"EMAIL"	VARCHAR2(40)		NULL,
	"PHONE"	VARCHAR2(13)		NOT NULL,
	"MEMBER_STATUS"	CHAR(1)	DEFAULT 'Y'	NOT NULL
);

COMMENT ON COLUMN "MEMBER"."MEMBER_NO" IS '시퀀스';

COMMENT ON COLUMN "MEMBER"."MEMBER_ID" IS '영문, 숫자 조합 6 ~ 16자';

COMMENT ON COLUMN "MEMBER"."MEMBER_PWD" IS '영문, 숫자, 특수문자 조합 6 ~ 16자';

COMMENT ON COLUMN "MEMBER"."MEMBER_NAME" IS '한글 4자, 영문 12자 이내';

COMMENT ON COLUMN "MEMBER"."EMAIL" IS '영문, @포함';

COMMENT ON COLUMN "MEMBER"."PHONE" IS '숫자, -포함';

COMMENT ON COLUMN "MEMBER"."MEMBER_STATUS" IS '탈퇴 시 N';

--게시판 테이블--
CREATE TABLE "BOARD" (
	"BOARD_NO"	NUMBER		NOT NULL,
	"BOARD_TITLE"	VARCHAR2(150)		NOT NULL,
	"BOARD_CONTENT"	VARCHAR2(3000)		NOT NULL,
	"BOARD_WRITER"	VARCHAR2(16)		NOT NULL,
	"BOARD_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"BOARD_COUNT"	NUMBER	DEFAULT 1	NOT NULL,
	"ORIGIN_NAME"	VARCHAR2(255)		NULL,
	"CHANGE_NAME"	VARCHAR2(255)		NULL,
	"BOARD_STATUS"	CHAR(1)	DEFAULT 'Y'	NOT NULL,
	"MEMBER_NO"	NUMBER		NOT NULL
);

COMMENT ON COLUMN "BOARD"."BOARD_NO" IS '시퀀스';

COMMENT ON COLUMN "BOARD"."BOARD_TITLE" IS '한글 50자, 영문 150자 이내';

COMMENT ON COLUMN "BOARD"."BOARD_CONTENT" IS '한글 1000자, 영문 3000자 이내';

COMMENT ON COLUMN "BOARD"."BOARD_WRITER" IS '영문, 숫자 조합 6 ~ 16자';

COMMENT ON COLUMN "BOARD"."BOARD_DATE" IS 'YYYY-MM-DD HH24:MI';

COMMENT ON COLUMN "BOARD"."BOARD_COUNT" IS '게시글 작성 시 상세 조회 포워딩이라';

COMMENT ON COLUMN "BOARD"."BOARD_STATUS" IS '삭제 시 N';

COMMENT ON COLUMN "BOARD"."MEMBER_NO" IS '시퀀스';

--댓글 테이블--
CREATE TABLE "REPLY" (
	"REPLY_NO"	NUMBER		NOT NULL,
	"REPLY_CONTENT"	VARCHAR2(1000)		NOT NULL,
	"REPLY_WRITER"	VARCHAR2(16)		NOT NULL,
	"REPLY_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"REPLY_STATUS"	CHAR(1)	DEFAULT 'Y'	NOT NULL,
	"BOARD_NO"	NUMBER		NOT NULL
);

COMMENT ON COLUMN "REPLY"."REPLY_NO" IS '시퀀스';

COMMENT ON COLUMN "REPLY"."REPLY_CONTENT" IS '한글 333자, 영문 1000자 이내';

COMMENT ON COLUMN "REPLY"."REPLY_DATE" IS 'YYYY-MM-DD HH24:MI';

COMMENT ON COLUMN "REPLY"."REPLY_STATUS" IS '삭제 시 N';

COMMENT ON COLUMN "REPLY"."BOARD_NO" IS '시퀀스';

ALTER TABLE "MEMBER" ADD CONSTRAINT "PK_MEMBER" PRIMARY KEY (
	"MEMBER_NO"
);

ALTER TABLE "BOARD" ADD CONSTRAINT "PK_BOARD" PRIMARY KEY (
	"BOARD_NO"
);

ALTER TABLE "REPLY" ADD CONSTRAINT "PK_REPLY" PRIMARY KEY (
	"REPLY_NO"
);

ALTER TABLE "BOARD" ADD CONSTRAINT "FK_MEMBER_TO_BOARD_1" FOREIGN KEY (
	"MEMBER_NO"
)
REFERENCES "MEMBER" (
	"MEMBER_NO"
);

ALTER TABLE "REPLY" ADD CONSTRAINT "FK_BOARD_TO_REPLY_1" FOREIGN KEY (
	"BOARD_NO"
)
REFERENCES "BOARD" (
	"BOARD_NO"
);

CREATE SEQUENCE SEQ_MEMBER_NO NOCACHE;
CREATE SEQUENCE SEQ_BOARD_NO NOCACHE;
CREATE SEQUENCE SEQ_REPLY_NO NOCACHE;

--더미 데이터 INSERT--
INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PWD, MEMBER_NAME, EMAIL, PHONE, MEMBER_STATUS) VALUES (SEQ_MEMBER_NO.NEXTVAL, 'admin', '1234', '관리자', 'admin@gasystem.com', '010-1234-1234', 'Y');

INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PWD, MEMBER_NAME, EMAIL, PHONE, MEMBER_STATUS) VALUES (SEQ_MEMBER_NO.NEXTVAL, 'user1', '1234', '회원1', 'user1@gasystem.com', '010-1234-1234', 'Y');

INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PWD, MEMBER_NAME, EMAIL, PHONE, MEMBER_STATUS) VALUES (SEQ_MEMBER_NO.NEXTVAL, 'user2', '1234', '회원2', 'user2@gasystem.com', '010-1234-1234', 'Y');

INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PWD, MEMBER_NAME, EMAIL, PHONE, MEMBER_STATUS) VALUES (SEQ_MEMBER_NO.NEXTVAL, 'user3', '1234', '회원3', 'user2@gasystem.com', '010-1234-1234', 'Y');

INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PWD, MEMBER_NAME, EMAIL, PHONE, MEMBER_STATUS) VALUES (SEQ_MEMBER_NO.NEXTVAL, 'user4', '1234', '회원4', 'user2@gasystem.com', '010-1234-1234', 'Y');

INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PWD, MEMBER_NAME, EMAIL, PHONE, MEMBER_STATUS) VALUES (SEQ_MEMBER_NO.NEXTVAL, 'user5', '1234', '회원5', 'user2@gasystem.com', '010-1234-1234', 'Y');

INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PWD, MEMBER_NAME, EMAIL, PHONE, MEMBER_STATUS) VALUES (SEQ_MEMBER_NO.NEXTVAL, 'user6', '1234', '회원6', 'user2@gasystem.com', '010-1234-1234', 'Y');

INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_WRITER, BOARD_DATE, BOARD_COUNT, ORIGIN_NAME, CHANGE_NAME, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '공지', '공지 내용', '관리자', SYSDATE, 1, NULL, NULL, 'Y', 1);

INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_WRITER, BOARD_DATE, BOARD_COUNT, ORIGIN_NAME, CHANGE_NAME, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '공지', '공지 내용', '관리자', SYSDATE, 1, NULL, NULL, 'Y', 1);

INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_WRITER, BOARD_DATE, BOARD_COUNT, ORIGIN_NAME, CHANGE_NAME, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '공지', '공지 내용', '관리자', SYSDATE, 1, NULL, NULL, 'Y', 1);

INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_WRITER, BOARD_DATE, BOARD_COUNT, ORIGIN_NAME, CHANGE_NAME, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '공지', '공지 내용', '관리자', SYSDATE, 1, NULL, NULL, 'Y', 1);

INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_WRITER, BOARD_DATE, BOARD_COUNT, ORIGIN_NAME, CHANGE_NAME, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '공지', '공지 내용', '관리자', SYSDATE, 1, NULL, NULL, 'Y', 1);

INSERT INTO BOARD (BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_WRITER, BOARD_DATE, BOARD_COUNT, ORIGIN_NAME, CHANGE_NAME, BOARD_STATUS, MEMBER_NO) VALUES (SEQ_BOARD_NO.NEXTVAL, '공지', '공지 내용', '관리자', SYSDATE, 1, 'logo.png', 'uploadFiles/logo.png', 'Y', 1);

INSERT INTO REPLY (REPLY_NO, REPLY_CONTENT, REPLY_WRITER, REPLY_DATE, REPLY_STATUS, BOARD_NO) VALUES (SEQ_REPLY_NO.NEXTVAL, '댓글 내용', '관리자', SYSDATE, 'Y', 6);

COMMIT;